<html>
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Simple editor</title>		
		<link rel="stylesheet" href="css/se.css?v=1">
		<link rel="stylesheet" href="css/demo.css?v=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
	  	<meta name="mobile-web-app-capable" content="yes" />
	  	<meta name="apple-mobile-web-app-capable" content="yes" />    
	  	<meta name="format-detection" content="telephone=no" />
	</head>
	<body>		
		<div style="margin: 0 auto; padding: 100px 10px 50px; width: 100%; display: block; max-width: 800px;">
		<div id="editor"></div>
		<div style="display: none" id="content">
			<h1>Simple Editor</h1><p><em>Shine, segmentation circular philanthropy academic, green space catalyze theory of change resist. Social entrepreneur black lives matter unprecedented challenge invest movements philanthropy green space.</em> </p><hr><h2>Section Title</h2><p>Radical, social entrepreneurship; engaging, co-create social capital, empathetic strengthening infrastructure citizen-centered social intrapreneurship. Game-changer to, academic capacity building peaceful, because innovation unprecedented challenge.</p><figure><img src="images/pipe12.jpg"><figcaption>Image Caption</figcaption></figure><h3>Block Title</h3><p>Correlation efficient society, because incubator challenges and opportunities collective impact her body her rights inclusive. Relief program areas thought provoking, improve the world; human-centered shared vocabulary strengthening infrastructure strategy impact. </p><blockquote>Synergy milestones; impact best practices thought partnership segmentation scale and impact because inspirational. Venture philanthropy; correlation, capacity building; parse data shared value social entrepreneurship global. </blockquote><p>Do-gooder, efficient; revolutionary mass incarceration communities; systems thinking green space grit natural resources. </p><h3>Block Title</h3><p>Communities relief game-changer; targeted do-gooder when. Shared vocabulary do-gooder game-changer outcomes external partners impact. Preliminary thinking, change-makers NGO innovate; co-creation we must stand up when design thinking scalable.</p><hr><h2>Section Title</h2><p>Empower communities strengthening infrastructure humanitarian improve the world move the needle. Thought partnership leverage revolutionary efficient catalyze social entrepreneurship collaborative cities. </p><ul><li><p>Incubator deep dive low-hanging fruit innovation preliminary thinking families her body her rights social capital indicators. </p></li><li><p>Program areas; or, shared unit of analysis compassion segmentation greenwashing:</p><ul><li><p>Her body</p></li><li><p>Her rights</p></li><li><p>Strengthening infrastructure.</p></li></ul></li><li><p>Youth; save the world inspire social return on investment triple bottom line external partners impact.</p></li></ul><p>Incubator deep dive low-hanging fruit innovation preliminary thinking families her body her rights social capital indicators. Program areas; or, shared unit of analysis compassion segmentation greenwashing her body her rights strengthening infrastructure. </p><figure><div style="padding-top:46.91489361702128%"><iframe frameborder="no" scrolling="no" allowfullscreen="true" src="//player.vimeo.com/video/229802433?byline=0&amp;amp;portrait=0"></iframe></div><figcaption>Video Caption</figcaption></figure><p>Optimism contextualize inclusive; support communities think tank. Grit targeted, energize deep dive outcomes or save the world strategize. Leverage move the needle, citizen-centered, milestones vibrant social impact.</p><h3>Block Title</h3><p>Youth; save the world inspire social return on investment triple bottom line external partners impact. Game-changer parse, black lives matter collaborative consumption accessibility shared value. </p><blockquote>Relief invest communities a ecosystem, shared unit of analysis. Strengthening infrastructure change-makers transparent, problem-solvers, human-centered ideate state of play to.</blockquote><p>Innovation collaborative consumption ideate outcomes; co-creation storytelling program areas invest inclusion. Scale and impact; issue outcomes collective impact emerging</p><figure><img src="images/terminal.jpg"><figcaption><a href="#link" target="_blank">Link Caption</a></figcaption></figure><p>Collaborative cities; design thinking, circular philanthropy, thought partnership global co-creation. Co-create peaceful and, mass incarceration ecosystem and change-makers, youth NGO. Our work social capital empathetic; her body her rights catalyze targeted progress.</p><ol><li><p>Boots on the ground strategy inspiring vibrant do-gooder. </p></li><li><p>Global, boots on the ground philanthropy, initiative B-corp;</p><ol><li><p>Revolutionary</p></li><li><p>Venture philanthropy</p></li><li><p>Theory of change. </p></li></ol></li><li><p>Dynamic replicable the; social impact inspirational expose the truth.</p></li></ol><p>Cultivate shine human-centered vibrant, best practices. Inclusive; society, inspirational design thinking correlation cultivate improve the world energize.</p><hr><h2>Conclusion</h2><p>Contextualize compassion co-create collective impact problem-solvers inclusive. Deep dive leverage, state of play; inspirational black lives matter empathetic. Incubator collaborative consumption fairness, bandwidth innovate our work the revolutionary blended value. </p><figure><img src="images/helmet.jpg"><img src="images/pipe08.png"><figcaption>Multiple Images Caption</figcaption></figure><p><em>The, scalable mass <a href="#" target="_blank"><em>incarceration optimism</em></a> rubric data mass incarceration. Venture philanthropy movements, expose the truth social impact external.</em></p>
		</div>
		</div>
		<script src="js/se.js?v=3"></script>
		<script>
				// Class List 
					
					if (!("classList" in document.createElement("_")) || document.createElementNS && !("classList" in document.createElementNS("http://www.w3.org/2000/svg","g"))) {
						
						// Get the first script element on the page
						var ref = document.getElementsByTagName( 'script' )[ 0 ];
						// Create a new script element
						var script = document.createElement( 'script' );
						// Set the script element `src`
						script.src = 'js/classlist.js';
						// Inject the script into the DOM
						ref.parentNode.insertBefore( script, ref );
					}

				// Promise
					
					if(typeof Promise !== "undefined" && Promise.toString().indexOf("[native code]") !== -1){
	                	// Browser supports Promise we use for Image upload previews
	                } else {
	                	// We need Promise polyfill to support Image upload previews
	                	// e.g.: https://www.npmjs.com/package/promise-polyfill (should be ok to load only or IE 11)
	                	
	                	// Get the first script element on the page
						var ref = document.getElementsByTagName( 'script' )[ 0 ];
						// Create a new script element
						var script = document.createElement( 'script' );
						// Set the script element `src`
						script.src = 'js/promise.js';
						// Inject the script into the DOM
						ref.parentNode.insertBefore( script, ref );
	                }

				// HTML Callback
					
					var exportHTML = function(new_html_)  {
						//console.log("html", new_html_)
					}


				// Dummy Uploader

					var uploadFiles = function(dom_, callback_, opt_remove_) {
						
						// Remove 
							if (opt_remove_) {
								//console.warn("cancel upload for: ", opt_remove_);
								return;	
							}

						// Uploader vars
							
							var view_id = null;
							var view_ids = [];							
						    var uploaderUUID = 1;
						    var fileUUID = 0;
						
						// File Input
							let inputFile = document.createElement("input")
						    inputFile.type = "file"
						    inputFile.multiple = true;
						    inputFile.accept ="image/*";
						    inputFile.style.display = "none";
						    dom_.parentNode.appendChild(inputFile);						    

						    // Input Change listener
						    inputFile.addEventListener("change", function(e) {
						    	var files = e.currentTarget.files;
						    	
						    	// Loop files						    
						    	if (files.length!=0) {
	 						    	// Open view changes
								    	callback_("open", uploaderUUID);								    
								    // Add files								    	
								    	for (var i = 0; i < files.length; i++) {
								    		fileUUID = i;
								    		view_id = callback_("add", {file:files[i], uploader: uploaderUUID, fileid: fileUUID } );
								    		view_ids.push([view_id,files[i]]);
								    	};								  								   
								    // Close view changes
								    	callback_("close", uploaderUUID);
								}

								// Tests 
							    	setTimeout(function () { 
							    		for (var i = 0; i < view_ids.length; i++) {
							    			// test progress
							    				callback_("progress", {id:view_ids[i][0],value:1});								    			
							    		}
							    	}, 100);
							    	setTimeout(function () { 
							    		for (var i = 0; i < view_ids.length; i++) {
							    			// test success
								    			callback_("update", {id:view_ids[i][0], url: URL.createObjectURL(view_ids[i][1]) });
								    		// test fail
								    			// callback_("remove", {id:view_ids[i][0]});
								    	}
								    }, 2100);

						    });	

						// Pass event
							dom_.addEventListener("click", function(e) {
							    // prevent event 
								    e.preventDefault();
									e.stopPropagation();						  
							    
								// open dialog							
									inputFile.click(); 
							    
							});

					}

				// Build Editor
					var editor = se.create(
									document.getElementById('editor')					// Editor dom element
									, document.querySelector("#content").innerHTML		// Initial HTML String
									, uploadFiles										// Uploader
									, exportHTML										// HTML export callback method									
									// , this											// Callback scope. If not set edidor object view will be the scope
								);
					
				// Tests				
					setTimeout(function(){ 
						// Destroy Editor
							// editor.destroy(); 
							// Rebuild
							// setTimeout(function(){ 
							// 	var editor = se.create(
							// 		document.getElementById('editor')					// Editor dom element
							// 		, document.querySelector("#content").innerHTML		// Initial HTML String
							// 		, uploadFiles										// Uploader
							// 		, exportHTML										// HTML export callback method
							// 		// , this											// Callback scope. If not set, editor object view will be the scope.
							// 	);
							// }, 3000);
						// Change html
							//document.getElementById('editor').innerHTML = "New HMTL from DOM";
							//editor.html("New HTML from editor object)
						// Get html
							// console.log(editor.html());
					}, 3000);

		</script>
	</body>
</html>
